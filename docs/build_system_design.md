# Build 系统设计文档 - 阶梯式成长体系

## 设计目标

为放置类修仙游戏设计一个长期成长系统，通过装备和技能的 Build 组合，提供：
- **阶梯式进步**：每个境界有明显的实力飞跃
- **长期可玩性**：不需要重生机制，持续成长
- **Build 多样性**：不同流派的玩法差异

---

## 一、核心概念：境界锁系统

### 1.1 境界锁机制

装备和技能都有**境界锁**，只有达到对应境界才能解锁：

| 境界 | 等级范围 | 装备阶位 | 技能等级上限 | 解锁内容 |
|------|---------|---------|-------------|---------|
| 炼气期 | 1-99 | 1阶 | Lv.10 | 基础装备、入门功法 |
| 筑基期 | 100-199 | 2阶 | Lv.20 | 灵器、筑基功法 |
| 金丹期 | 200-299 | 3阶 | Lv.30 | 法宝、金丹功法 |
| 元婴期 | 300-499 | 4阶 | Lv.40 | 仙器、元婴功法 |
| 元神期 | 500-999 | 5阶 | Lv.50 | 神器、元神功法 |

### 1.2 境界突破收益

每次境界突破带来**质变**：

```
炼气 → 筑基:
- 全属性 +100%
- 解锁2阶装备槽（可穿戴灵器）
- 解锁被动技能槽 x1
- 解锁神识系统（探测敌人信息）

筑基 → 金丹:
- 全属性 +150%
- 解锁3阶装备槽（可穿戴法宝）
- 解锁主动技能槽 x1
- 解锁丹田系统（储存额外灵力）

金丹 → 元婴:
- 全属性 +200%
- 解锁4阶装备槽（可穿戴仙器）
- 解锁元婴出窍（离体战斗）
- 解锁领域系统（范围增益）

元婴 → 元神:
- 全属性 +300%
- 解锁5阶装备槽（可穿戴神器）
- 解锁分身系统
- 解锁天劫挑战
```

---

## 二、Build 流派系统

### 2.1 五大门派核心流派

每个门派有 3 个核心流派方向：

#### 青云门（风系·速度）
| 流派 | 核心 | 特点 | 关键技能 |
|------|------|------|---------|
| **御风流** | 速度+闪避 | 攻速极快，难以命中 | 风行术、御风剑诀 |
| **青云剑宗** | 暴击+穿透 | 单次高伤害 | 青云剑气、破甲剑 |
| **云遁流** | 生存+机动 | 风筝战术 | 云遁术、风墙 |

#### 丹鼎门（火系·炼丹）
| 流派 | 核心 | 特点 | 关键技能 |
|------|------|------|---------|
| **烈火宗** | 火焰伤害 | 持续燃烧 | 三昧真火、炎龙术 |
| **丹修流** | 辅助+恢复 | 团队增益 | 炼丹术、回春丹 |
| **鼎甲流** | 防御+反伤 | 坦克流派 | 金鼎护体、反震 |

#### 万花谷（木系·治疗）
| 流派 | 核心 | 特点 | 关键技能 |
|------|------|------|---------|
| **医仙流** | 治疗+复活 | 最强奶妈 | 万花医术、起死回生 |
| **毒宗** | 毒素+DOT | 持续伤害 | 毒雾、万毒噬心 |
| **花灵流** | 召唤+控制 | 召唤花灵 | 花灵召唤、花海 |

#### 逍遥宗（虚空·闪避）
| 流派 | 核心 | 特点 | 关键技能 |
|------|------|------|---------|
| **逍遥游** | 移动+隐身 | 最强机动 | 逍遥步、无相功 |
| **虚空流** | 控制+爆发 | 瞬间秒杀 | 虚空斩、破空击 |
| **心魔流** | Debuff | 削弱敌人 | 心魔入侵、幻境 |

#### 蜀山派（剑系·攻击）
| 流派 | 核心 | 特点 | 关键技能 |
|------|------|------|---------|
| **剑宗** | 纯攻击 | 最高输出 | 蜀山剑法、万剑归宗 |
| **御剑流** | 远程+AOE | 飞剑攻击 | 御剑术、剑阵 |
| **剑盾流** | 攻守平衡 | 全能型 | 剑盾合一、金刚护体 |

### 2.2 流派点数系统

玩家获得**流派点**用于强化流派：

```
流派点获取:
- 每升10级获得 1 点
- 完成流派任务获得 3 点
- 境界突破获得 10 点

流派树结构:
流派技能树 (3层)
├── 第一层 (基础) - 需要 1 点/技能
├── 第二层 (进阶) - 需要 3 点/技能，需要前置
└── 第三层 (终极) - 需要 5 点/技能，需要前置
```

---

## 三、技能系统设计

### 3.1 技能分类

| 类型 | 槽位数量 | 特点 | 解锁条件 |
|------|---------|------|---------|
| **普攻** | 1 | 无消耗，自动释放 | 默认 |
| **主动技能** | 3-6 | 消耗灵力，手动/自动 | 各境界解锁 |
| **被动技能** | 5-10 | 永久生效 | 筑基解锁 |
| **触发技能** | 3-5 | 条件触发 | 金丹解锁 |
| **终极技能** | 1 | 长CD，强效果 | 元婴解锁 |

### 3.2 技能成长系统

技能通过**修炼**提升，不是简单的技能点：

```python
class Skill:
    skill_id: str
    name: str
    level: int = 1           # 当前等级 (1-50)
    max_level: int = 50      # 最高等级
    cultivation: int = 0     # 修炼进度
    cultivation_needed: int  # 升级所需修炼值

    # 技能效果随等级成长
    base_damage: int
    damage_growth: float = 1.05  # 每级+5%

    # 修炼获取
    # - 使用技能获得修炼值
    # - 打坐时可以选择修炼技能
    # - 特定丹药增加修炼值
```

### 3.3 技能境界突破

技能达到特定等级需要**突破**才能继续提升：

| 技能等级 | 突破条件 | 突破效果 |
|---------|---------|---------|
| Lv.10 → 11 | 需要「筑基丹」 | 技能效果+20% |
| Lv.20 → 21 | 需要「金丹」 | 解锁技能分支 |
| Lv.30 → 31 | 需要「元婴丹」 | 技能效果+50% |
| Lv.40 → 41 | 需要「化神丹」 | 解锁终极形态 |
| Lv.50 | 满级 | 技能完成度+100% |

---

## 四、装备成长系统

### 4.1 神器养成（核心装备）

玩家有一件**本命神器**，与角色共同成长：

```python
class SpiritWeapon:
    weapon_id: str
    name: str
    level: int              # 神器等级
    awakening_stage: int    # 觉醒阶段 (0-5)

    # 成长系统
    experience: int         # 经验值
    spirit_level: int       # 器灵等级

    # 觉醒效果
    awakening_bonuses: Dict[int, Dict]
    # 1觉: 解锁第一条词缀
    # 2觉: 解锁器灵技能
    # 3觉: 解锁第二条词缀
    # 4觉: 器灵进化
    # 5觉: 神器终极形态
```

### 4.2 器灵系统

神器拥有**器灵**，提供独特技能：

```
器灵类型:
- 剑灵: 攻击加成，剑系技能增强
- 凤灵: 火焰加成，复活能力
- 龙灵: 全属性加成，龙息技能
- 灵鹿: 速度加成，治疗能力
- 玄武: 防御加成，护盾技能

器灵成长:
- 喂养装备提升器灵经验
- 器灵升级解锁新技能
- 器灵进化改变外观和能力
```

### 4.3 套装境界进化

装备套装可以**进化**到更高境界：

```
青云套装进化路线:
├── 1阶（炼气）: 青云入门套装
│   └─ 进化材料: 青云石 x100
├── 2阶（筑基）: 青云筑基套装
│   └─ 进化材料: 青云精魄 x50
├── 3阶（金丹）: 青云金丹套装
│   └─ 进化材料: 青云仙晶 x20
├── 4阶（元婴）: 青云元婴套装
│   └─ 进化材料: 青云神铁 x10
└── 5阶（元神）: 青云飞升套装

进化效果:
- 保留所有词缀
- 基础属性提升 50%
- 套装效果增强
- 可能解锁新套装技能
```

---

## 五、放置成长系统

### 5.1 离线收益设计

```python
class OfflineRewards:
    # 离线时间上限
    max_offline_hours: int = 12

    # 收益类型
    cultivation_rate: float = 0.5     # 离线修炼效率 50%
    gold_rate: float = 0.3            # 离线仙石效率 30%
    equipment_drop: float = 0.1       # 离线装备掉落 10%

    # 挂机行为
    idle_action: str = "打坐"         # 打坐/探索/采矿/钓鱼

    # 加成来源
    vip_bonus: float = 1.0            # VIP加成
    artifact_bonus: float = 1.0       # 法器加成
    sect_bonus: float = 1.0           # 门派加成
```

### 5.2 长期成长曲线

```
玩家实力成长曲线:

炼气期 (1-99级):
├── 时间: 约 1-2 周
├── 主要成长: 基础属性、技能解锁
└── 目标: 达到筑基条件

筑基期 (100-199级):
├── 时间: 约 2-4 周
├── 主要成长: 流派选择、被动技能
└── 目标: 完成 Build 雏形

金丹期 (200-299级):
├── 时间: 约 1-2 月
├── 主要成长: 套装收集、技能突破
└── 目标: Build 成型

元婴期 (300-499级):
├── 时间: 约 2-4 月
├── 主要成长: 神器觉醒、器灵进化
└── 目标: Build 完善

元神期 (500-999级):
├── 时间: 约 6-12 月
├── 主要成长: 终极内容、Build 精进
└── 目标: 全内容完成
```

---

## 六、Build 策略深度

### 6.1 属性点分配

每个境界突破获得**属性点**：

```
炼气→筑基: +20 属性点
筑基→金丹: +30 属性点
金丹→元婴: +50 属性点
元婴→元神: +80 属性点

五维属性:
- 力量: 物理攻击、负重
- 体质: 生命、防御
- 敏捷: 速度、暴击、闪避
- 智力: 法术攻击、灵力
- 悟性: 修炼速度、技能效果
```

### 6.2 装备词缀搭配

词缀组合形成不同 Build：

```
暴击流 Build:
- 武器: 暴击率+暴击伤害
- 手套: 暴击率+暴击伤害
- 项链: 暴击伤害
- 套装: 暴击相关奖励
- 被动技能: 暴击相关
→ 成型效果: 80%暴击率, 400%暴击伤害

攻速流 Build:
- 武器: 攻击速度
- 靴子: 移动速度+攻击速度
- 手套: 攻击速度
- 被动技能: 速度相关
→ 成型效果: 每秒5次攻击

肉盾流 Build:
- 护甲: 防御+生命%
- 头盔: 生命%+伤害减免
- 腰带: 生命%
- 护手: 格挡率
- 被动技能: 防御相关
→ 成型效果: 90%伤害减免, 100万生命
```

### 6.3 技能组合

技能组合产生协同效果：

```
青云剑仙 Build:
├── 主动技能:
│   ├── 青云剑气 (主力输出)
│   ├── 御风术 (位移+增伤)
│   └── 剑心通明 (爆发)
├── 被动技能:
│   ├── 剑意 (剑系伤害+30%)
│   ├── 风灵 (速度+20%)
│   └── 暴击精通 (暴击率+15%)
├── 触发技能:
│   └── 剑气激荡 (暴击时触发)
└── 终极技能:
    └── 万剑归宗 (清屏AOE)

协同效果:
- 御风术后使用青云剑气伤害+50%
- 暴击触发剑气激荡
- 剑心通明期间所有剑系技能无CD
```

---

## 七、数值设计原则

### 7.1 阶梯式增长

每个境界的数值飞跃：

```
炼气期 DPS: 100
筑基期 DPS: 500 (5x)
金丹期 DPS: 2,500 (5x)
元婴期 DPS: 15,000 (6x)
元神期 DPS: 100,000 (6.7x)

总增长倍率: 1000x
```

### 7.2 Build 差异化

不同 Build 的数值侧重：

```
Build 类型 | 相对DPS | 生存能力 | 控制能力
-----------|---------|---------|----------
纯输出流   | 150%    | 50%     | 0%
平衡流     | 100%    | 100%    | 50%
肉盾流     | 30%     | 300%    | 50%
控制流     | 70%     | 100%    | 200%
辅助流     | 50%     | 100%    | 100%
```

---

## 八、实现优先级

### 第一阶段 (P0)
1. 境界锁系统
2. 基础技能系统
3. 属性点分配

### 第二阶段 (P1)
1. 流派系统
2. 流派技能树
3. 技能修炼

### 第三阶段 (P2)
1. 神器养成
2. 器灵系统
3. 套装进化

### 第四阶段 (P3)
1. 离线收益优化
2. Build 推荐
3. Build 分享

---

**文档版本**: 1.0
**创建时间**: 2026-02-11
